Набор тестов №1. АСП: Заявки на получение льгот на оплату жилья и ЖКУ, вид ГСП: Льготы на оплату жилья и ЖК услуги
==================================================================================================================
**Основное назначение**: проверяет работу с заявкой вид АСП: Заявки на получение льгот на оплату жилья и ЖКУ, вид ГСП: Льготы на оплату жилья и ЖК услуги.
Должны загружаться 2 заявления последовательно, 2-е  добавляться как обращение к первому. Корректная работа полученного обращения с контролом госуслуги.

**Дополнительно**: проверка прикладывания файлов, выгрузка на ТИ, обновление статусов заявления.

Тест №1
-------
Тест предназначен для проверки АС АСП. Работает на **Контрольный пример - тест**, выполняет следующее:
   #. входит в АСП по указанному адресу;
   #. выбор БД из списка пока не работает, поэтому входит в настроенную;
   #. проверяет, нуждается ли БД в обновлении;
   #. заходит в главное меню;
   #. заходит в меню госуслуги;
   #. проверяет наличие и возможность зайти в разделы: "Просмотр информации ПГУ/МФЦ", "Просмотр информации СМЭВ", "Массовое формирование запросов СМЭВ", "Массовое удаление запросов СМЭВ", "Загрузка ответов СМЭВ из файла", "Загрузка ответов СМЭВ из точки интеграции", "Выгрузка на точку интеграции", "Массовая корректировка ПКУ запросами СМЭВ", "Настройка СМЭВ". 

Тест №2
-------
Тест предназначен для проверки АС АСП. Работает на **Контрольный пример - тест**, выполняет следующее:
  #. заходит в главное
  #. заходит в просмотр информации СМЭВ
  #. проверяет выпадающий список "Регламент"
  #. проверяет выпадающий список "Фильтр"
  #. проверяет выпадающий список "Печать"
  #. проверяет листалку
  #. выходит в главное


Тест №3
-------
Тест предназначен для проверки АС АСП. Работает на **Контрольный пример - тест**, выполняет следующее:
   #. входит в АСП по указанному адресу;
   #. выбор БД из списка пока не работает, поэтому входит в настроенную;
   #. заходит в главное меню;
   #. заходит в меню госуслуги;
   #. заходит в настройки СМЭВ;
   #. заходит удаляет настройки на СМЭВ и ЛК через веб-интерфейс;
   #. проверяет что настройки удалены (скриптом в БД АСП);
   #. делает настройки на СМЭВ и ЛК;
   #. проверяет, что настройки сохранились (скриптом в БД АСП);

Тест №4
-------
Тест предназначен для проверки АС АСП. Работает на **Контрольный пример - тест**, выполняет следующее:
   #. заходит в главное
   #. заходит в просмотр ПГУ/МФЦ
   #. связывание ПКУ(1)
   #. запись заявок(3)
   #. карточки обращения(4)
   #. листалка
   #. выход
   #. снова вход в задачу
   #. заходит в просмотр ПГУ/МФЦ
   #. запись скандоков(2) должна выполнится быстро, на тесте - 2 сек, т.к. все заявления удалены
   #. прогресс бар
   #. диалог сохранения файлов
   #. выход в главное

Тест №5
-------
Проверяет загрузку и обработку заявления с обращениями. Это первая большой программы тестирования заявления с обращениями, делает только заявление.
Вид АСП: Заявки на получение льгот на оплату жилья и ЖКУ. Вид ГСП: Льготы на оплату жилья и ЖК услуги.

Выполняется на БД Контрольный пример - тест. Это весьма сложный тест, он не будет работать в Selenium, т.к. для него готовится БД, выполняется проверка значений в БД (все скриптами). Перед его запуском рекомендуется выполнить тест №3, которые гарантированно выполняет настройки БД для соединения с ТИ. 

Тест состоит из 4-х частей: 
  * очистка БД 
  * попытка получить новое заявление когда его нет на ТИ;
  * получение и обработка заявления;
  * проверка выполненных действий.  

**Выполняет**
  * **Очистка БД**
     #. Отмечает все заявления и СМЭВ запросы на ТИ как загруженные для района ID=159.
     #. Удаляет в АСП все необработанные заявления (т.к. это контрольный пример, там может оказаться все, что угодно).
     #. На ТИ отмечает.
     #. Удаляет сканированные документы из заявления в ПКУ, ПГУ, ответов на ПГУ.
     #. Удаляет ответ на заявления для ЛК ПГУ.
     #. Удаляю заявку из просмотр ПГУ/МФЦ.
     #. Удалить заявку в из ПКУ АСП.
  * **Попытка получить новое заявление**
     #. Заходит в главное.
     #. Заходит в просмотр ПГУ/МФЦ.
     #. Нажимает получить заявления.
     #. Подождать, когда отработает прогресс бар
  * **Получение и обработка заявления**  
     #. Теперь нужно заявление обновить на ТИ (скриптом).
     #. Выходит в просмотр госуслуг.
     #. Пробует снова загрузить заявление.
     #. Подождать, когда отработает прогресс бар.
     #. Проверяет, что вышло сообщение с результатами загрузки.
     #. Проверяет, что пришло одно заявление с нужным номеров и у него не проставлены F6, F6IZM (скриптом).
     #. Связывание с ПКУ.
     #. Устанавливаю фильтр на ФИО.
     #. Запись скандоков.
     #. Запись заявлений.
     #. Формирует список на регистрацию заявлений.
     #. Подождем прогресс запись заявок в БД.
     #. Выйти из записи.
     #. Выйти их массой регистрации.
     #. Войти в заявку.
     #. Переключение на таб госуслуги.
     #. Новый ответ. Статус ОТКАЗ, комментарий.
     #. Жду загрузки файла
  * **Проверка выполненных действий**
     #. Проверяю, что есть такой гражданин.
     #. Проверяю, что записано одно заявление и на него одно обращение.
     #. Проверка записанных скандоков, сравнение с образцом.
     #. Проверяю какие ответы даны. Должно быть 2 шт: Статус: 2, комментарий: None; Статус: 4, комментарий: Это тестовый статус на ОТКАЗ на заявление №10734214222. Приложены файлы: Файл с пробелом.jpg


Тест №6
-------
Проверяет загрузку и обработку заявления с обращениями. Это вторая часть большой программы тестирования заявления с обращениями, 2-е обращение в заявление из теста №5.
Вид АСП: Заявки на получение льгот на оплату жилья и ЖКУ. Вид ГСП: Льготы на оплату жилья и ЖК услуги.

Выполняется на БД Контрольный пример - тест. Это весьма сложный тест, он не будет работать в Selenium, т.к. для него готовится БД, выполняется проверка значений в БД (все скриптами). Перед его запуском обязательно надо выполнить тест №5.

Тест состоит из 2-х частей: 
  * получение и обработка заявления;
  * проверка выполненных действий.  

**Выполняет**
  * **Получение и обработка заявления**  
     #. Теперь нужно заявление обновить на ТИ (скриптом).
     #. Выходит в просмотр госуслуг.
     #. Пробует снова загрузить заявление.
     #. Подождать, когда отработает прогресс бар.
     #. Проверяет, что вышло сообщение с результатами загрузки.
     #. Проверяет, что пришло одно заявление с нужным номеров и у него не проставлены F6, F6IZM (скриптом).
     #. Связывание с ПКУ.
     #. Устанавливаю фильтр на ФИО.
     #. Запись скандоков.
     #. Запись заявлений.
     #. Формирует список на регистрацию заявлений.
     #. Подождем прогресс запись заявок в БД.
     #. Выйти из записи.
     #. Выйти их массой регистрации.
     #. Войти в заявку.
     #. Переключение на таб госуслуги.
     #. Новый ответ. Статус НАЗНАЧЕНО, комментарий.
     #. Жду загрузки файла
  * **Проверка выполненных действий**
     #. Проверяю, что есть такой гражданин.
     #. Проверяю, что записано одно заявление и на два обращение.
     #. Проверка записанных скандоков, сравнение с образцом.
     #. Проверяю какие ответы даны. Должно быть 2 шт: Статус: 2, комментарий: None; Статус: 3, комментарий: Это тестовый статус на НАЗНАЧЕНО на заявление №12744214221. Приложены файлы: 7NAabNgvl0Q.jpg


Тест №7
-------
Предыдущие тесты (5 и 6) создали заявление по ЖКУ и два обращения к нему. Тест №7 проверяет чтобы при переключении обращения внутри заявления срабатывало переключение контрола госуслуги и отображался статус, комментарий и файл для соответствующей заявки ПГУ/МФЦ.

**Выполняет**
  * Заходит в главное.
  * Заходит в просмотр ПГУ/МФЦ.
  * Устанавливает фильтр по ФИО, а мало ли что там стоит.
  * Зайти в заявку и поверить обащение от 03.03.2016. Статус = Отказ, Комментарий = Это тестовый статус на ОТКАЗ на заявление №10734214222, Приложен один файл: Файл с пробелом.jpg.
     #. Переключение на таб госуслуги.
     #. Выбрать для проверка обращение от 03.03.2016.
     #. Проверить комментарий.
     #. Проверить файл.
     #. Проверить статус.
  * Выбрать для проверка обращение от 17.03.2016 и проверить status='Исполнено', comment='Это тестовый статус ИСПОЛНЕНОЕ на заявление №12744214221',  file='7NAabNgvl0Q.jpg'.
     #. Выбрать для проверка обращение от 17.03.2016.
     #. Проверить комментарий (надо исправить на НАЗНАЧЕНО).
     #. Проверить файл.
     #. Проверить статус.
  * Выход из заявки.
  * Выход в главное.

  
Тест №8
-------
Предыдущие тесты (5 и 6) создали заявление по ЖКУ и два обращения к нему.
Есть известная ошибка в контроле ответа на госуслуги, когда при выборе нового файла сбрасывается статус в "Не выбрано". Тест проверяет, чтобы этого не происходило, так же проверяет, чтобы после изменения данных и **выхода без сохранения** данные в ответе не менялись (анализируется статус, комментарий, приложенный файл)

**Выполняет**
   * заходит в главное;
   * заходит в просмотр ПГУ/МФЦ;
   * устанавливает фильтр по ФИО, а мало ли что там стоит;
   * зайти в заявку;
   * переключение на таб госуслуги;
   * выбрать для проверка обращение от 03.03.2016;
   * ввести новые данные status='Отказ', comment='Это повторный тестовый статус ОТКАЗ на заявление №10734214222', file='Голавль.jpg'.
        #. Сменить комментарий
        #. Удалить файл
        #. Нажать добавить файл
        #. Выбрать файл с лок. машины
        #. Нажать загрузить
        #. Подождать окончание загрузки
   * проверить комментарий;
   * проверить файл;
   * проверить статус;
   * выход из заявки без сохранения, данные остаются старыми!;
   * выход в главное;
   * снова проверяю какой статус по этому заявлению в БД, должна остаться старая информация (проверка скриптами).
        #. Соединение с БД АСП
        #. Проверяю что в БД по заявлению №10734214222. Должны быть 2 статуса: status=2, comment=None, file=None); status=4, comment='Это тестовый статус на ОТКАЗ на заявление №10734214222', file='Файл с пробелом.jpg'
        #. Проверяю приложенные файлы


Тест №9
-------
Предыдущие тесты (5 и 6) создали заявление по ЖКУ и два обращения к нему. Тест №7 проверяет чтобы при переключении обращения внутри заявления срабатывало переключение контрола госуслуги и отображался статус, комментарий и файл для соответствующей заявки ПГУ/МФЦ. Тест №9 проверяет правильно ли выполняется выгрузка на ТИ, так же проверяет известную ошибку: после выгрузки не проставляется дата в файле ответа (в ДПР задание 49051).

**Выполняет**
    * Соединяется с БД АСП.
    * Проверим состояние файла ответа до выгрузки для заявления 12744214221. status='Исполнено', file='7NAabNgvl0Q.jpg', comment='Это тестовый статус ИСПОЛНЕНО на заявление №12744214221', save=None.
    * Проверим состояние файла ответа до выгрузки для заявления 10734214222. status='Отказ', file='Файл с пробелом.jpg', comment='Это тестовый статус на ОТКАЗ на заявление №10734214222', save=None
    * Отправить решения на ТИ.
        #. Заходит в главное.
        #. Заходит в просмотр ПГУ/МФЦ.
        #. Заходит в выгрузку на ТИ.
        #. Снимаю галочки для выгрузки всего.
        #. Ставлю галочку на статусы ПГУ.
        #. Проверяю, что их 2 шт.
        #. Нажимаю отправить.
        #. Подождать, когда отработает прогресс бар.
        #. Проверить, что по результатам выгрузки, оба должны выгрузится нормально и проставится время выгрузки.
        #. Проверим состояние файла ответа до выгрузки для заявления 12744214221.
        #. Проверить, что выгрузилось 2 решения (скриптом).
    * Проверим состояние файла ответа до выгрузки для заявления 12744214221. status='Исполнено', file='7NAabNgvl0Q.jpg', comment='Это тестовый статус ИСПОЛНЕНО на заявление №12744214221', save=1.
    * Проверим состояние файла ответа до выгрузки для заявления 10734214222. status='Отказ', file='Файл с пробелом.jpg', comment='Это тестовый статус на ОТКАЗ на заявление №10734214222', save=1.

Тест №10
--------
Зайти в ПКУ человека и проверить, что заявка одна отображена. Была ошибка, когда она показывалась дважды.

    #. Зайти  в поиск и найти ПКУ человека.
    #. Зайти в ПКУ человека.
    #. Найти таблицу с заявками
    #. Пребирать все строки, считать сколько раз там заявка указана.
    #. Проверить, что нашлась только одна.